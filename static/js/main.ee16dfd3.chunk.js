(this["webpackJsonpreddit-blog"]=this["webpackJsonpreddit-blog"]||[]).push([[0],{30:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(10),u=n.n(c),i=n(13),s=n(8),d=function(e){var t=e.redditValue,n=e.options,r=e.onSelect;return a.a.createElement("div",null,a.a.createElement("h1",null,t),a.a.createElement("select",{value:t,onChange:function(e){r(e.target.value)}},n.map((function(e){return a.a.createElement("option",{value:e,key:e},e)}))))},l=function(e){return{type:"REQUEST_POSTS",redditValue:e}},o=function(e,t){return{type:"RECEIVE_POSTS",redditValue:e,posts:t,receivedAt:(new Date).setMilliseconds(0)}},p=function(e){var t=e.posts;return a.a.createElement("ul",null,t.map((function(e,t){return a.a.createElement("li",{key:t},e.title)})))},E=Object(i.b)((function(e){var t=e.selectedReddit,n=e.postsByReddit;return Object(s.a)({selectedReddit:t},n[t])}),(function(e){return{selectRedditDispatch:function(t){return e({type:"SELECT_REDDIT_VALUE",redditValue:t})},invalidateRedditDispatch:function(t){return e({type:"INVALIDATE_REDDIT",redditValue:t})}}}))((function(e){var t=e.selectRedditDispatch,n=e.selectedReddit,r=e.isFetching,c=e.items,u=e.lastUpdated,i=e.invalidateRedditDispatch;return a.a.createElement("div",null,a.a.createElement(d,{redditValue:n,onSelect:function(e){t(e)},options:["reactjs","reduxjs","javascript"]}),a.a.createElement("p",null,u&&a.a.createElement("span",null,"Last updated at ",new Date(u).toLocaleTimeString()),!r&&a.a.createElement("button",{onClick:function(){i(n)}},"Refresh")),r&&0===c.length&&a.a.createElement("h2",null,"Loading..."),r&&c.length>0&&a.a.createElement("h2",null,"Refreshing..."),!r&&0===c.length&&a.a.createElement("h2",null,"Empty"),!r&&c.length>0&&a.a.createElement("div",null,a.a.createElement(p,{posts:c})))})),f=n(7),h=n(12),b={isFetching:!1,items:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POSTS":return Object(s.a)({},e,{isFetching:!0});case"RECEIVE_POSTS":return Object(s.a)({},e,{isFetching:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}},m=Object(f.combineReducers)({selectedReddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reactjs",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_REDDIT_VALUE":return t.redditValue;default:return e}},postsByReddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POSTS":case"RECEIVE_POSTS":return Object(s.a)({},e,Object(h.a)({},t.redditValue,v(e[t.redditValue],t)));default:return e}}}),O=n(29),j=n(27),R=function(){var e=Object(O.a)();return Object(s.a)({},Object(f.createStore)(m,Object(j.composeWithDevTools)(Object(f.applyMiddleware)(e))),{runSaga:e.run})},g=n(6),S=n.n(g),x=n(4),w=n(28),T=n.n(w),D=S.a.mark(C),V=S.a.mark(U),y=S.a.mark(P),_=S.a.mark(B),k=S.a.mark(F),I=function(e){return e.selectedReddit},L=function(e){return e.postsByReddit},A=function(e){return T.a.get("https://www.reddit.com/r/".concat(e,".json")).then((function(e){return e.data.data.children.map((function(e){return e.data}))}))};function C(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.d)(l(e));case 2:return n.next=4,Object(x.b)(A,e);case 4:return t=n.sent,n.next=7,Object(x.d)(o(e,t));case 7:case"end":return n.stop()}}),D)}function U(){var e,t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(x.f)("INVALIDATE_REDDIT");case 3:return e=n.sent,t=e.redditValue,n.next=7,Object(x.b)(C,t);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),V)}function P(){var e,t,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(x.e)(I);case 3:return e=r.sent,r.next=6,Object(x.f)("SELECT_REDDIT_VALUE");case 6:return r.next=8,Object(x.e)(I);case 8:return t=r.sent,r.next=11,Object(x.e)(L);case 11:if(n=r.sent,e===t||n[t]){r.next=15;break}return r.next=15,Object(x.c)(C,t);case 15:r.next=0;break;case 17:case"end":return r.stop()}}),y)}function B(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.e)(I);case 2:return e=t.sent,t.next=5,Object(x.c)(C,e);case 5:case"end":return t.stop()}}),_)}function F(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)([B(),P(),U()]);case 2:case"end":return e.stop()}}),k)}var Q=R();Q.runSaga(F),u.a.render(a.a.createElement(i.a,{store:Q},a.a.createElement(E,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.ee16dfd3.chunk.js.map